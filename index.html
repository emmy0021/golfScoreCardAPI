<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Golf Scorecard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <style>
      /* CSS styles remain the same */

      body {
          font-family: Arial, sans-serif;
          background-color: #f2f7fc;
        }
  
        .container {
          max-width: 100%;
          overflow-x: auto;
          padding: 10px;
        }
  
        table {
          width: auto;
          border-collapse: collapse;
          margin-bottom: 20px;
        }
  
        th,
        td {
          padding: 12px;
          text-align: center;
          font-size: 18px;
        }
  
        th {
          background-color: #e3f2fd;
          color: #00539c;
        }
  
        td {
          background-color: #f7fbff;
          color: #00539c;
        }
  
        .player-col {
          position: sticky;
          left: 0;
          z-index: 1;
          background-color: #fff;
          font-size: 18px;
          padding: 12px;
        }

        .player-col:last-child {
            background-color: #9dc8d6;
            border-radius: 0 0 0 10px;
            color: #fff;
            cursor: pointer;
            margin-right: 10px;
        }


        .player-col:last-child:hover {
            background-color: #95cbee;
        }

        thead tr th.player-col:first-child {
            border-radius: 10px 0 0 0;
        }
  
        .total-score-col {
          background-color: #e3f2fd;
          color: #00539c;
          font-weight: bold;
        }
  
        input {
          width: 78px;
          padding: 6px;
          border: none;
          text-align: center;
          background-color: #eff6fc;
          color: #00539c;
          font-weight: bold;
          font-size: 38px;
          border-radius: 4px;
          box-sizing: border-box;
        }
  
        input:focus {
          outline: none;
          background-color: #d2e3f8;
        }


      .scorecard-container {
        overflow-x: auto;
      }

      .table-container {
        width: fit-content;
      }

      /* Add a wrapper div to prevent scores from overflowing to the left */
      .player-wrapper {
        position: relative;
      }

      /* Position player names and scores within the wrapper div */
      .player-col,
      td:not(.player-col) input[type="number"],
      .total-score-col {
        position: sticky;
        left: 0;
        background-color: lightblue;
      }

      /* Make the score cells sticky */
      .sticky {
        position: sticky;
        right: 0;
        z-index: 1;
      }

      /* Hide the horizontal scrollbar on mobile devices */
      @media (max-width: 600px) {
        .scorecard-container {
          overflow-x: scroll;
          -webkit-overflow-scrolling: touch;
        }

        .table-container {
          width: 100%;
        }

        
      }

      .toggle-button {
        text-align: right;
        margin-top: 10px;
        position: relative;
        top: -66px;
      }

      /* Customize the toggle switch appearance */
      .toggle-button label {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
      }

      .toggle-button label input {
        display: none;
      }

      .toggle-button label span {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #ccc;
        transition: background-color 0.3s ease;
        border-radius: 34px;
      }

      .toggle-button label span:before {
        position: absolute;
        content: '';
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        transition: transform 0.3s ease;
        border-radius: 50%;
      }

      .toggle-button label input:checked + span {
        background-color: lightblue;
      }

      .toggle-button label input:checked + span:before {
        transform: translateX(26px);
      }




      .switch-button {
            background-color: #9dc8d6;
            color: #fff;
            padding: 8px 8px;
            border: none;
            border-radius: 10px 0 0 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            font-size: 18px;
            font-weight: bold;
        }



            
        .switch-button span.arrow {
        margin-left: 8px;
        width: 40px;
        height: 20px;
        display: inline-block;
        background-color: #9dc8d6;
        position: relative;
        }


        .switch-button span.arrow::before,
        .switch-button span.arrow::after {
        content: "";
        position: absolute;
        }


        .switch-button span.arrow::before {
        width: 0;
        height: 0;
        border-top: 10px solid transparent;
        border-bottom: 10px solid transparent;
        }

        .switch-button span.arrow-left::before{
            border-right: 15px solid #fff;
            left: 2px;
        }

        .switch-button span.arrow-right::before {
        border-left: 15px solid #fff;
        right: 6px;
        }


        .switch-button span.arrow::after {
        width: 6px;
        height: 6px;
        background-color: #fff;
        top: 50%;
        transform: translate(0, -50%);
        }

        .switch-button span.arrow-left::after {
            right: 9px;
        }


        .switch-button span.arrow-right::after {
        left: 6px;
        }

        .switch-button span.arrow-left.hide-after::after,
        .switch-button span.arrow-right.hide-after::after,
.switch-button span.arrow.hide-after::after {
  display: none;
}

.switch-button span.arrow-left.hide-after::before,
        .switch-button span.arrow-right.hide-after::before,
.switch-button span.arrow.hide-after::before {
    right: 28%;
}
    
  .player-col::after {
    content: "";
    position: absolute;
    top: 0;
    right: -6px;
    width: 10px;
    height: 100%;
    cursor: col-resize;
    background-color: #ddd;
  }

  .player-col .switch-button {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

input[type="text"] {
  width: 90%;
  font-size: 18px;
}


    </style>
  </head>
  <body>
    <div class="scorecard-container">
      <div class="table-container">
        <table>
          <!-- Rest of the table remains the same -->
          <thead>
            <tr>
                
                <th class="player-col">
                    <button class="switch-button">Holes<br>10-18<span class="arrow arrow-right"></span></button>
                  </th>
                                   
              <th>Hole 1</th>
              <th>Hole 2</th>
              <th>Hole 3</th>
              <th>Hole 4</th>
              <th>Hole 5</th>
              <th>Hole 6</th>
              <th>Hole 7</th>
              <th>Hole 8</th>
              <th>Hole 9</th>
              <th class="total-score-col">Total Score</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              
              <td class="player-col">Alexis Marie</td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td class="total-score-col">0</td>
            </tr>
            <tr>
              
              <td class="player-col">John Smith </td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td class="total-score-col">0</td>
            </tr>
            <tr>
                
              <td class="player-col">Emmanuel Oyervides</td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td><input type="number" min="0" value="" pattern="[0-9]*" oninput="this.value = this.value.slice(0, 2)" id="number-input"></td>
              <td class="total-score-col">0</td>
            </tr>
            <tr>
                
                <td class="player-col" onclick="addPlayer()">+</td>
              </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="toggle-button">
        <label>
        <input type="checkbox" id="score-sticky-toggle">
            <span></span>
        </label>
    </div>
        <script>
            window.addEventListener('DOMContentLoaded', () => {
              const scoreStickyToggle = document.getElementById('score-sticky-toggle');
              const scoreCells = document.querySelectorAll('.total-score-col');
          
              scoreStickyToggle.addEventListener('change', () => {
                if (scoreStickyToggle.checked) {
                  scoreCells.forEach((cell) => {
                    cell.classList.add('sticky');
                  });
                } else {
                  scoreCells.forEach((cell) => {
                    cell.classList.remove('sticky');
                  });
                }
              });

              const scoreInputs = document.querySelectorAll('tbody input');
  
          scoreInputs.forEach((input) => {
            input.addEventListener('input', calculateTotalScore);
          });
  
          function calculateTotalScore() {
            const rows = document.querySelectorAll('tbody tr');
  
            rows.forEach((row) => {
              const scores = Array.from(row.querySelectorAll('input'))
                .map((input) => parseInt(input.value))
                .filter((score) => !isNaN(score));
  
              const totalScore = scores.reduce((total, score) => total + score, 0);
              const totalScoreCell = row.querySelector('.total-score-col');
              totalScoreCell.textContent = totalScore;
            });
          }
          
            });

            document.addEventListener('click', function(event) {
              var numberInput = document.getElementById('number-input');
              if (event.target !== numberInput) {
                numberInput.blur();
              }
            });

            function addPlayer() {

            }



// Variables
let isResizing = false;
let startX = 0;
let startWidth = [];
let parentCols = [];
let editNamesEnabled = true;

// Elements
const resizeTabs = Array.from(document.querySelectorAll('.player-col, .switch-button'));
const swtchHolesButton = document.getElementsByClassName('switch-button').item(0);

// Event listeners
resizeTabs.forEach(resizeTab => {
  resizeTab.addEventListener('mousedown', initResize, false);
  resizeTab.addEventListener('touchstart', initResize, false);
});

document.addEventListener('mousemove', resizeTable, false);
document.addEventListener('touchmove', resizeTable, false);
document.addEventListener('mouseup', stopResize, false);
document.addEventListener('touchend', stopResize, false);

// Helper functions
function initResize(e) {
  e.preventDefault();
  const resizeTab = e.target.closest('.player-col');
  if (resizeTab) {
    isResizing = true;
    startX = e.clientX || e.touches[0].clientX;
    parentCols = Array.from(document.querySelectorAll('.player-col, .switch-button'));
    startWidth = parentCols.map(col => col.offsetWidth);
  }
}

function resizeTable(e) {
  if (!isResizing) return;
  const deltaX = (e.clientX || e.touches[0].clientX) - startX;


  for (let i = 0; i < parentCols.length; i++) {
    const newWidth = startWidth[i] + deltaX;
    if (newWidth > 35 && newWidth < 200) {
      parentCols[i].style.width = newWidth + 'px';
      if (newWidth < 70) {
                swtchHolesButton.innerHTML = '<br><span class="arrow arrow-right hide-after">';
                minimizeNames();
                editNamesEnabled = false; 
      }else if (newWidth < 120) {
            swtchHolesButton.innerHTML = '<br><span class="arrow arrow-right">';
            maximizeNames();
            editNamesEnabled = true;
        } else {
            swtchHolesButton.innerHTML = 'Holes<br>10-18<span class="arrow arrow-right">';
            maximizeNames();
            editNamesEnabled = true;
        }
    }
  }

}

function stopResize() {
  isResizing = false;
}

parentColsNames = [];
const playerCols = document.querySelectorAll('.player-col');
let selectedPlayerCol = null;
let ignoreClick = [];

playerCols.forEach((playerCol, index) => {
    parentColsNames.push(playerCol.textContent.trim());
    if (index !== 0 && index !== playerCols.length - 1) {
        playerCol.addEventListener('click', handleClick);
        playerCol.addEventListener('touchstart', handleTouch);
  }
})



function handleClick() {
  handlePlayerColEvent(this);
}

function handleTouch(event) {
  event.preventDefault();
  handlePlayerColEvent(this);
}

function handlePlayerColEvent(playerCol) {
  if (editNamesEnabled) {
    if (selectedPlayerCol === playerCol) {
      activateEditMode(playerCol);
    } else {
      if (selectedPlayerCol) {
        selectedPlayerCol.classList.remove('selected');
      }
      selectedPlayerCol = playerCol;
      playerCol.classList.add('selected');
    }
  }
}

function activateEditMode(playerCol) {
  const index = Array.from(playerCols).indexOf(playerCol);

  if (ignoreClick[index]) {
    return;
  }
  ignoreClick[index]=true;

  const content = playerCol.textContent.trim();

  const input = document.createElement('input');
  input.type = 'text';
  input.value = content;

  playerCol.innerHTML = '';
  playerCol.appendChild(input);

  input.focus();


  input.addEventListener('blur', () => {
    ignoreClick[index] = false;
    const updatedValue = input.value.trim();

    playerCol.innerHTML = updatedValue !== '' ? updatedValue : '-';

    parentColsNames[index] = updatedValue;

    playerCol.classList.remove('selected');
    selectedPlayerCol = null;

  });
}


function minimizeNames() {

  playerCols.forEach((playerCol, index) => {
    if (index !== 0 && index !== playerCols.length - 1) {
      const name = playerCol.textContent.trim();
        if(!name.includes('.')){
            if (name.includes(' ')) {
                const initials = name
                .split(' ')
                .map(word => word[0].toUpperCase())
                .join('.');
                try {
                    playerCol.innerHTML = initials;
                }catch(error){}
                parentColsNames.push(name);
            } else {
                const initials = name.substring(0, 1).toUpperCase();
                try {
                    playerCol.innerHTML = initials;
                }catch(error){}
            }
        }
    }
  });
}


function maximizeNames() {
  playerCols.forEach((playerCol, index) => {
    if (index !== 0 && index !== playerCols.length - 1) {
      const initials = parentColsNames[index];
      if (initials.includes('.') && initials.length > 1) {
        const words = initials
          .split('.')
          .map(word => word[0].toUpperCase() + word.slice(1))
          .join(' ');
        playerCol.innerHTML = words;
      } else {
        const name = initials;
        try {
            playerCol.innerHTML = name;
        }catch(error){}
      }
    }
  });
}



          </script>
        </body>
        </html>    
